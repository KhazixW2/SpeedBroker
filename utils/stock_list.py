"""
股票代码库 - 提供股票列表和搜索功能
支持静态列表和动态获取
"""


class StockDatabase:
    """股票数据库类"""
    
    @staticmethod
    def get_all_stocks():
        """获取完整的股票列表（静态版本 - 约200只常用股票）"""
        return [
            # === 深圳主板 ===
            "000001.SZ - 平安银行", "000002.SZ - 万科A", "000063.SZ - 中兴通讯",
            "000066.SZ - 中国长城", "000100.SZ - TCL科技", "000333.SZ - 美的集团",
            "000338.SZ - 潍柴动力", "000425.SZ - 徐工机械", "000538.SZ - 云南白药",
            "000568.SZ - 泸州老窖", "000596.SZ - 古井贡酒", "000625.SZ - 长安汽车",
            "000651.SZ - 格力电器", "000725.SZ - 京东方A", "000768.SZ - 中航西飞",
            "000858.SZ - 五粮液", "000876.SZ - 新希望", "000895.SZ - 双汇发展",
            "000938.SZ - 紫光股份", "000977.SZ - 浪潮信息",
            
            # === 深圳中小板 ===
            "002001.SZ - 新和成", "002024.SZ - 苏宁易购", "002027.SZ - 分众传媒",
            "002050.SZ - 三花智控", "002129.SZ - 中环股份", "002142.SZ - 宁波银行",
            "002230.SZ - 科大讯飞", "002236.SZ - 大华股份", "002241.SZ - 歌尔股份",
            "002252.SZ - 上海莱士", "002304.SZ - 洋河股份", "002311.SZ - 海大集团",
            "002352.SZ - 顺丰控股", "002415.SZ - 海康威视", "002460.SZ - 赣锋锂业",
            "002475.SZ - 立讯精密", "002493.SZ - 荣盛石化", "002594.SZ - 比亚迪",
            "002601.SZ - 龙佰集团", "002714.SZ - 牧原股份", "002821.SZ - 凯莱英",
            "002841.SZ - 视源股份", "002920.SZ - 德赛西威",
            
            # === 深圳创业板 ===
            "300014.SZ - 亿纬锂能", "300015.SZ - 爱尔眼科", "300033.SZ - 同花顺",
            "300059.SZ - 东方财富", "300122.SZ - 智飞生物", "300124.SZ - 汇川技术",
            "300142.SZ - 沃森生物", "300144.SZ - 宋城演艺", "300274.SZ - 阳光电源",
            "300347.SZ - 泰格医药", "300408.SZ - 三环集团", "300413.SZ - 芒果超媒",
            "300450.SZ - 先导智能", "300496.SZ - 中科创达", "300498.SZ - 温氏股份",
            "300502.SZ - 新易盛", "300601.SZ - 康泰生物", "300628.SZ - 亿联网络",
            "300750.SZ - 宁德时代", "300760.SZ - 迈瑞医疗", "300896.SZ - 爱美客",
            
            # === 上海主板 ===
            "600000.SH - 浦发银行", "600009.SH - 上海机场", "600016.SH - 民生银行",
            "600028.SH - 中国石化", "600030.SH - 中信证券", "600031.SH - 三一重工",
            "600036.SH - 招商银行", "600048.SH - 保利发展", "600050.SH - 中国联通",
            "600104.SH - 上汽集团", "600111.SH - 北方稀土", "600115.SH - 中国东航",
            "600132.SH - 重庆啤酒", "600150.SH - 中国船舶", "600176.SH - 中国巨石",
            "600196.SH - 复星医药", "600219.SH - 南山铝业", "600276.SH - 恒瑞医药",
            "600309.SH - 万华化学", "600346.SH - 恒力石化", "600362.SH - 江西铜业",
            "600406.SH - 国电南瑞", "600438.SH - 通威股份", "600519.SH - 贵州茅台",
            "600547.SH - 山东黄金", "600570.SH - 恒生电子", "600585.SH - 海螺水泥",
            "600588.SH - 用友网络", "600690.SH - 海尔智家", "600745.SH - 闻泰科技",
            "600763.SH - 通策医疗", "600809.SH - 山西汾酒", "600887.SH - 伊利股份",
            "600893.SH - 航发动力", "600900.SH - 长江电力", "600905.SH - 三峡能源",
            "600919.SH - 江苏银行", "600941.SH - 中国移动", "601012.SH - 隆基绿能",
            "601088.SH - 中国神华", "601099.SH - 太平洋", "601117.SH - 中国化学",
            "601138.SH - 工业富联", "601166.SH - 兴业银行", "601186.SH - 中国铁建",
            "601211.SH - 国泰君安", "601225.SH - 陕西煤业", "601288.SH - 农业银行",
            "601318.SH - 中国平安", "601328.SH - 交通银行", "601336.SH - 新华保险",
            "601390.SH - 中国中铁", "601398.SH - 工商银行", "601601.SH - 中国太保",
            "601628.SH - 中国人寿", "601668.SH - 中国建筑", "601688.SH - 华泰证券",
            "601728.SH - 中国电信", "601766.SH - 中国中车", "601800.SH - 中国交建",
            "601808.SH - 中海油服", "601816.SH - 京沪高铁", "601818.SH - 光大银行",
            "601857.SH - 中国石油", "601888.SH - 中国中免", "601899.SH - 紫金矿业",
            "601919.SH - 中远海控", "601933.SH - 永辉超市", "601988.SH - 中国银行",
            "601989.SH - 中国重工", "601995.SH - 中金公司", "601998.SH - 中信银行",
            "603087.SH - 甘李药业", "603259.SH - 药明康德", "603288.SH - 海天味业",
            "603501.SH - 韦尔股份", "603799.SH - 华友钴业", "603986.SH - 兆易创新",
            
            # === 科创板 ===
            "688111.SH - 金山办公", "688122.SH - 西部超导", "688169.SH - 石头科技",
            "688185.SH - 康希诺", "688223.SH - 晶科能源", "688256.SH - 寒武纪",
            "688303.SH - 大全能源", "688561.SH - 奇安信", "688599.SH - 天合光能",
            "688981.SH - 中芯国际", "688012.SH - 中微公司",
            
            # === 北交所（部分） ===
            "831010.BJ - 华强方特", "832982.BJ - 恒拓开源",
        ]
    
    @staticmethod
    def get_dynamic_stocks_akshare():
        """动态获取所有A股列表（使用akshare）"""
        try:
            import akshare as ak
            
            # 获取所有A股列表
            df = ak.stock_zh_a_spot_em()
            
            # 提取代码和名称
            stocks = []
            for _, row in df.iterrows():
                code = row['代码']
                name = row['名称']
                
                # 判断市场
                if code.startswith('688') or code.startswith('689'):
                    suffix = '.SH'  # 科创板
                elif code.startswith('60') or code.startswith('68'):
                    suffix = '.SH'  # 上海主板
                elif code.startswith('00') or code.startswith('30'):
                    suffix = '.SZ'  # 深圳
                elif code.startswith('83') or code.startswith('43') or code.startswith('87'):
                    suffix = '.BJ'  # 北交所
                else:
                    suffix = '.SZ'  # 默认深圳
                
                full_code = code + suffix
                stocks.append(f"{full_code} - {name}")
            
            return stocks
            
        except Exception as e:
            print(f"动态获取股票列表失败: {e}")
            return StockDatabase.get_all_stocks()
    
    @staticmethod
    def get_by_category():
        """按板块分类获取股票"""
        return {
            "银行": [
                "600000.SH - 浦发银行", "600036.SH - 招商银行",
                "601398.SH - 工商银行", "601988.SH - 中国银行",
                "601166.SH - 兴业银行", "601288.SH - 农业银行",
                "000001.SZ - 平安银行", "002142.SZ - 宁波银行",
            ],
            "白酒": [
                "600519.SH - 贵州茅台", "000858.SZ - 五粮液",
                "000568.SZ - 泸州老窖", "002304.SZ - 洋河股份",
                "600809.SH - 山西汾酒", "000596.SZ - 古井贡酒",
            ],
            "科技": [
                "000063.SZ - 中兴通讯", "002415.SZ - 海康威视",
                "002475.SZ - 立讯精密", "688981.SH - 中芯国际",
                "688111.SH - 金山办公", "002230.SZ - 科大讯飞",
            ],
            "新能源": [
                "300750.SZ - 宁德时代", "002594.SZ - 比亚迪",
                "601012.SH - 隆基绿能", "300274.SZ - 阳光电源",
                "002460.SZ - 赣锋锂业", "603799.SH - 华友钴业",
            ],
            "医药": [
                "600276.SH - 恒瑞医药", "300015.SZ - 爱尔眼科",
                "300122.SZ - 智飞生物", "300760.SZ - 迈瑞医疗",
                "600196.SH - 复星医药", "603259.SH - 药明康德",
            ],
        }


# 使用示例
if __name__ == '__main__':
    db = StockDatabase()
    
    # 静态列表
    print(f"静态列表: {len(db.get_all_stocks())} 只股票")
    
    # 动态获取（需要网络）
    print("正在动态获取股票列表...")
    dynamic_list = db.get_dynamic_stocks_akshare()
    print(f"动态列表: {len(dynamic_list)} 只股票")
