# 策略选择指南

本文档详细介绍 SpeedBroker 中各种交易策略的特点、适用场景和参数配置建议。

## 目录

1. [策略概览](#策略概览)
2. [短期策略](#短期策略)
3. [长期策略](#长期策略)
4. [策略选择建议](#策略选择建议)
5. [参数调优指南](#参数调优指南)

---

## 策略概览

### 策略分类

| 策略名称 | 类型 | 持仓周期 | 适用市场 | 风险级别 |
|---------|------|---------|---------|---------|
| DualMovingAverage | 趋势跟踪 | 5-30天 | 趋势市场 | 中 |
| MACD | 趋势+动量 | 3-15天 | 趋势市场 | 中 |
| BollingerBands | 波动性 | 5-20天 | 震荡市场 | 中高 |
| RSI | 超买超卖 | 3-14天 | 震荡市场 | 中高 |
| KDJ | 随机指标 | 3-10天 | 震荡市场 | 高 |
| TripleMovingAverage | 趋势跟踪 | 20-60天 | 趋势市场 | 低 |
| Momentum | 动量 | 20-60天 | 牛市 | 中 |
| TurtleTrading | 突破 | 20-55天 | 趋势市场 | 低 |
| MeanReversion | 均值回归 | 10-30天 | 震荡市场 | 中 |
| Combo | 组合 | 10-30天 | 全市场 | 中 |

---

## 短期策略

### 1. 双均线策略 (DualMovingAverage)

**策略原理**
- 使用短期和长期两条移动平均线
- 金叉（短期上穿长期）时买入
- 死叉（短期下穿长期）时卖出

**适用场景**
- ✅ 趋势明显的市场
- ✅ 中等波动性市场
- ❌ 横盘震荡市场（会产生频繁假信号）

**参数配置**

```ini
strategy_name = DualMovingAverage
short_window = 10    # 短期均线周期
long_window = 30     # 长期均线周期
```

**参数建议**
- 短线交易: short=5, long=20
- 中线交易: short=10, long=30
- 长线交易: short=20, long=60

**优缺点**
- ✅ 简单易懂，容易实施
- ✅ 能够捕捉大趋势
- ❌ 滞后性较强
- ❌ 震荡市场表现不佳

---

### 2. MACD策略

**策略原理**
- 计算快速和慢速EMA的差值（MACD线）
- MACD上穿信号线时买入
- MACD下穿信号线时卖出

**适用场景**
- ✅ 趋势市场
- ✅ 需要早期信号的场景
- ✅ 结合动量的趋势判断

**参数配置**

```ini
strategy_name = MACD
macd_fast = 12       # 快线周期
macd_slow = 26       # 慢线周期
macd_signal = 9      # 信号线周期
```

**参数建议**
- 标准参数: 12/26/9
- 灵敏参数: 6/19/5 (更快反应)
- 稳健参数: 19/39/9 (更少假信号)

**优缺点**
- ✅ 比双均线更灵敏
- ✅ 能提供早期信号
- ✅ 结合趋势和动量
- ❌ 仍有一定滞后性
- ❌ 震荡市场可能产生假信号

---

### 3. 布林带策略 (BollingerBands)

**策略原理**
- 基于价格波动性构建上下轨道
- 价格触及下轨（超卖）时买入
- 价格触及上轨（超买）时卖出

**适用场景**
- ✅ 震荡市场
- ✅ 波动率较高的市场
- ❌ 单边趋势市场（可能过早离场）

**参数配置**

```ini
strategy_name = BollingerBands
bb_period = 20       # 计算周期
bb_std = 2          # 标准差倍数
```

**参数建议**
- 标准参数: period=20, std=2
- 激进策略: period=15, std=1.5 (更频繁信号)
- 保守策略: period=25, std=2.5 (更少假信号)

**优缺点**
- ✅ 适合震荡市场
- ✅ 能捕捉超买超卖机会
- ✅ 自适应波动性
- ❌ 趋势市场表现不佳
- ❌ 可能过早退出趋势

---

### 4. RSI策略

**策略原理**
- 计算相对强弱指标（0-100）
- RSI < 30 超卖时买入
- RSI > 70 超买时卖出

**适用场景**
- ✅ 震荡市场
- ✅ 寻找短期反转机会
- ❌ 强趋势市场（可能长期超买/超卖）

**参数配置**

```ini
strategy_name = RSI
rsi_period = 14      # RSI计算周期
rsi_oversold = 30    # 超卖阈值
rsi_overbought = 70  # 超买阈值
```

**参数建议**
- 短线: period=9, oversold=25, overbought=75
- 标准: period=14, oversold=30, overbought=70
- 长线: period=21, oversold=35, overbought=65

**优缺点**
- ✅ 识别超买超卖区域
- ✅ 适合震荡市场
- ✅ 信号相对明确
- ❌ 趋势市场可能失效
- ❌ 可能产生持续的极端值

---

### 5. KDJ策略

**策略原理**
- 随机指标，基于最高最低价和收盘价
- J值超卖且K上穿D时买入
- J值超买且K下穿D时卖出

**适用场景**
- ✅ 短线操作
- ✅ 震荡市场
- ✅ 需要灵敏信号的场景

**参数配置**

```ini
strategy_name = KDJ
kdj_n = 9           # N值（RSV计算周期）
kdj_m1 = 3          # K值平滑参数
kdj_m2 = 3          # D值平滑参数
kdj_oversold = 20   # 超卖阈值
kdj_overbought = 80 # 超买阈值
```

**参数建议**
- 标准: N=9, M1=3, M2=3
- 灵敏: N=5, M1=2, M2=2
- 稳健: N=14, M1=5, M2=5

**优缺点**
- ✅ 灵敏度高
- ✅ 适合短线操作
- ✅ 能提前发现转折
- ❌ 假信号较多
- ❌ 需要频繁交易
- ❌ 交易成本较高

---

## 长期策略

### 6. 三均线策略 (TripleMovingAverage)

**策略原理**
- 使用短、中、长三条均线
- 形成多头排列（短>中>长）时买入
- 形成空头排列（短<中<长）时卖出

**适用场景**
- ✅ 中长期趋势投资
- ✅ 趋势明显的市场
- ✅ 降低假信号

**参数配置**

```ini
strategy_name = TripleMovingAverage
triple_ma_short = 5     # 短期均线
triple_ma_medium = 20   # 中期均线
triple_ma_long = 60     # 长期均线
```

**参数建议**
- 短线版: 5/10/20
- 中线版: 5/20/60 (推荐)
- 长线版: 10/30/120

**优缺点**
- ✅ 多重确认，假信号少
- ✅ 适合中长期投资
- ✅ 风险相对较低
- ❌ 反应较慢
- ❌ 可能错过短期机会

---

### 7. 动量策略 (Momentum)

**策略原理**
- 计算价格相对N日前的涨跌幅
- 动量强劲时买入（强者恒强）
- 动量转负时卖出

**适用场景**
- ✅ 牛市环境
- ✅ 趋势明显的市场
- ✅ 追踪强势股票
- ❌ 熊市或震荡市

**参数配置**

```ini
strategy_name = Momentum
momentum_period = 20      # 动量计算周期
momentum_threshold = 0.05 # 阈值（5%）
```

**参数建议**
- 激进: period=10, threshold=0.03
- 标准: period=20, threshold=0.05
- 保守: period=30, threshold=0.08

**优缺点**
- ✅ 能够捕捉强势股
- ✅ 适合牛市
- ✅ 收益潜力大
- ❌ 熊市表现差
- ❌ 回撤可能较大
- ❌ 追高风险

---

### 8. 海龟交易策略 (TurtleTrading)

**策略原理**
- 突破N日最高价时买入
- 跌破M日最低价时卖出
- 经典趋势跟随策略

**适用场景**
- ✅ 长期趋势投资
- ✅ 趋势市场
- ✅ 风险控制严格的场景

**参数配置**

```ini
strategy_name = TurtleTrading
turtle_entry = 20   # 入场周期（突破N日高点）
turtle_exit = 10    # 出场周期（跌破M日低点）
```

**参数建议**
- 原始海龟: entry=20, exit=10
- 激进版: entry=10, exit=5
- 保守版: entry=55, exit=20

**优缺点**
- ✅ 风控严格
- ✅ 能捕捉大趋势
- ✅ 逻辑清晰
- ❌ 震荡市场表现差
- ❌ 可能有多次小额止损

---

### 9. 均值回归策略 (MeanReversion)

**策略原理**
- 价格偏离均值较远时会回归
- 价格远低于均值时买入
- 价格回归或超过均值时卖出

**适用场景**
- ✅ 震荡市场
- ✅ 价值投资
- ✅ 寻找超跌机会
- ❌ 单边趋势市场

**参数配置**

```ini
strategy_name = MeanReversion
mean_reversion_period = 20  # 回看周期
mean_reversion_std = 2      # 标准差倍数
```

**参数建议**
- 激进: period=15, std=1.5
- 标准: period=20, std=2
- 保守: period=30, std=2.5

**优缺点**
- ✅ 适合震荡市场
- ✅ 可以低买高卖
- ✅ 风险相对可控
- ❌ 趋势市场表现差
- ❌ 可能接住下跌的飞刀

---

### 10. 组合策略 (Combo)

**策略原理**
- 结合MACD和RSI两个指标
- MACD金叉且RSI未超买时买入
- MACD死叉或RSI超买时卖出

**适用场景**
- ✅ 需要多重确认的场景
- ✅ 降低假信号
- ✅ 全市场环境

**参数配置**

```ini
strategy_name = Combo
# MACD参数
macd_fast = 12
macd_slow = 26
macd_signal = 9
# RSI参数
rsi_period = 14
rsi_oversold = 30
rsi_overbought = 70
```

**优缺点**
- ✅ 多重确认，假信号少
- ✅ 适应性强
- ✅ 风险相对平衡
- ❌ 可能错过早期机会
- ❌ 信号相对较少

---

## 策略选择建议

### 根据投资周期选择

#### 短线交易（1-10天）
1. **KDJ策略** - 最灵敏，适合日内到周内交易
2. **RSI策略** - 适合捕捉短期超买超卖
3. **MACD策略** - 短期趋势跟踪

#### 中线交易（10-30天）
1. **双均线策略** - 经典可靠
2. **布林带策略** - 适合震荡市场
3. **组合策略** - 平衡风险收益

#### 长线交易（30天以上）
1. **三均线策略** - 多重确认，假信号少
2. **海龟交易策略** - 经典趋势跟随
3. **动量策略** - 追踪强势股（牛市）

### 根据市场环境选择

#### 趋势市场
- **首选**: 双均线、三均线、MACD
- **备选**: 海龟交易、动量策略

#### 震荡市场
- **首选**: 布林带、RSI、均值回归
- **备选**: KDJ（短线）

#### 不确定市场
- **首选**: 组合策略
- **备选**: 三均线（更稳健）

### 根据风险偏好选择

#### 保守型
- 三均线策略（假信号少）
- 海龟交易策略（风控严格）
- 均值回归策略（震荡市场）

#### 平衡型
- 双均线策略
- MACD策略
- 组合策略

#### 激进型
- KDJ策略（灵敏度高）
- 动量策略（牛市追涨）
- RSI策略（短线）

---

## 参数调优指南

### 优化流程

1. **选择基础策略**
   - 根据投资风格和市场环境选择策略

2. **设置初始参数**
   - 使用推荐的标准参数

3. **历史回测**
   - 使用至少1年的历史数据
   - 观察收益率、最大回撤、夏普比率

4. **参数优化**
   - 逐个调整参数
   - 每次只改变一个参数
   - 记录不同参数组合的表现

5. **验证测试**
   - 在不同市场环境下测试
   - 检查策略稳定性

### 参数调整原则

#### 增加灵敏度（更多信号）
- **均线策略**: 缩短周期
- **RSI/KDJ**: 降低超买超卖阈值
- **布林带**: 减小标准差倍数

#### 减少假信号（更少信号）
- **均线策略**: 延长周期
- **RSI/KDJ**: 提高超买超卖阈值
- **布林带**: 增大标准差倍数

### 回测指标重点关注

1. **收益指标**
   - 总收益率
   - 年化收益率
   - 相对基准收益

2. **风险指标**
   - 最大回撤
   - 夏普比率
   - 波动率

3. **交易指标**
   - 胜率
   - 盈亏比
   - 交易次数

### 常见问题

**Q: 如何判断策略是否过拟合？**
A: 
- 在不同时间段测试表现一致
- 参数小幅改变不会导致结果剧变
- 逻辑合理，不是纯粹的数据拟合

**Q: 策略表现不好怎么办？**
A:
1. 检查市场环境是否适合该策略
2. 尝试调整参数
3. 考虑换用其他策略
4. 组合多个策略分散风险

**Q: 可以同时使用多个策略吗？**
A: 
- 可以，但建议策略间有差异化
- 例如: 一个趋势策略 + 一个震荡策略
- 或者短期策略 + 长期策略

---

## 使用示例

### 短期交易示例

```ini
# 使用KDJ策略进行短线交易
[STRATEGY]
strategy_name = KDJ
kdj_n = 9
kdj_m1 = 3
kdj_m2 = 3
kdj_oversold = 20
kdj_overbought = 80

[BACKTEST]
initial_capital = 100000
position_size = 0.5  # 半仓操作，控制风险
```

### 长期投资示例

```ini
# 使用三均线策略进行长期投资
[STRATEGY]
strategy_name = TripleMovingAverage
triple_ma_short = 5
triple_ma_medium = 20
triple_ma_long = 60

[BACKTEST]
initial_capital = 100000
position_size = 1.0  # 全仓操作，降低机会成本
```

### 组合策略示例

```ini
# 使用MACD+RSI组合策略
[STRATEGY]
strategy_name = Combo
macd_fast = 12
macd_slow = 26
macd_signal = 9
rsi_period = 14
rsi_oversold = 30
rsi_overbought = 70

[BACKTEST]
initial_capital = 100000
position_size = 0.8  # 80%仓位，平衡收益与风险
```

---

## 总结

1. **没有完美的策略** - 每个策略都有其适用场景
2. **适合自己最重要** - 根据投资风格和风险承受能力选择
3. **参数需要优化** - 不同市场环境可能需要调整参数
4. **风险控制第一** - 设置合理的止损和仓位管理
5. **持续学习改进** - 根据回测结果不断优化策略

**建议新手从双均线或三均线策略开始，逐步熟悉后再尝试其他策略。**
