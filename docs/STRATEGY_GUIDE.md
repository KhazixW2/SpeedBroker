# 📈 交易策略详解

## 概述

本系统实现了多种经典量化交易策略。每种策略适用于不同的市场环境和投资目标。

---

## 🎯 已实现的策略

### 1. 双均线策略（DualMovingAverage）⭐ 当前默认

#### 原理
通过短期和长期移动平均线的交叉来判断趋势。

#### 交易信号
```
买入信号（金叉）：短期均线 上穿 长期均线
  └─ 表示短期价格强于长期，上涨趋势开始

卖出信号（死叉）：短期均线 下穿 长期均线
  └─ 表示短期价格弱于长期，下跌趋势开始
```

#### 参数说明
- **短期均线（short_window）**：5-60天
  - 5-10天：激进，信号频繁，适合短线
  - 10-20天：平衡，适合中线
  - 20-30天：保守，信号较少，适合长线

- **长期均线（long_window）**：20-200天
  - 20-30天：短线趋势
  - 30-60天：中线趋势（推荐）
  - 60-120天：长线趋势

#### 适用场景
- ✅ **趋势明显的市场**（单边上涨或下跌）
- ✅ **长周期持有**（减少交易频率）
- ❌ **震荡市场**（会频繁交易，手续费高）

#### 优缺点
**优点**：
- ✅ 逻辑简单，容易理解
- ✅ 适合新手
- ✅ 能抓住大趋势

**缺点**：
- ❌ 滞后性强，反应慢
- ❌ 震荡市表现差
- ❌ 会有假突破

#### 实战建议
```python
# 推荐参数组合

# 组合A：短线激进（适合波动大的股票）
短期：5日
长期：20日
适用：科技股、新能源

# 组合B：中线平衡（最常用，推荐）
短期：10日
长期：30日
适用：大部分股票

# 组合C：长线稳健（适合蓝筹股）
短期：20日
长期：60日
适用：银行、白酒等稳定行业
```

---

### 2. RSI策略（Relative Strength Index）

#### 原理
相对强弱指标，通过价格涨跌幅度判断超买超卖。

#### 交易信号
```
买入信号：RSI < 30（超卖）
  └─ 市场过度悲观，可能反弹

卖出信号：RSI > 70（超买）
  └─ 市场过度乐观，可能回调
```

#### 参数说明
- **RSI周期（rsi_period）**：5-30天
  - 9天：更敏感
  - 14天：标准（推荐）
  - 21天：更平滑

- **超卖线（rsi_oversold）**：20-40
  - 20：严格，信号少但准
  - 30：标准（推荐）
  - 40：宽松，信号多

- **超买线（rsi_overbought）**：60-80
  - 60：宽松
  - 70：标准（推荐）
  - 80：严格

#### 适用场景
- ✅ **震荡市场**（横盘整理）
- ✅ **区间操作**（高抛低吸）
- ❌ **单边趋势**（会踏空或过早离场）

#### 优缺点
**优点**：
- ✅ 适合震荡市
- ✅ 买卖点明确
- ✅ 可以高抛低吸

**缺点**：
- ❌ 趋势市会错失大行情
- ❌ 钝化问题（极端情况下失效）
- ❌ 假信号较多

#### 实战建议
```python
# 推荐设置

# 标准配置（最常用）
RSI周期：14天
超卖线：30
超买线：70

# 激进配置（交易频繁）
RSI周期：9天
超卖线：35
超买线：65

# 保守配置（交易少但准）
RSI周期：21天
超卖线：25
超买线：75
```

---

## 📊 策略对比表

| 特性 | 双均线 | RSI |
|------|--------|-----|
| **适用市场** | 趋势市 | 震荡市 |
| **交易频率** | 中等 | 较高 |
| **滞后性** | 高 | 中等 |
| **准确率** | 中等 | 中等 |
| **学习难度** | ⭐ 简单 | ⭐⭐ 中等 |
| **参数调优** | ⭐⭐ 较易 | ⭐⭐⭐ 较难 |
| **最佳场景** | 单边趋势 | 横盘震荡 |
| **最差场景** | 频繁震荡 | 单边趋势 |

---

## 💡 如何选择策略

### 根据市场环境

**趋势明显时** → 双均线
- 牛市、熊市
- 某板块持续上涨
- 例如：2020-2021年的新能源

**横盘震荡时** → RSI
- 大盘箱体震荡
- 个股整理阶段
- 例如：2022年的大部分股票

### 根据股票特性

**波动大的股票** → RSI
- 科技股（如：中兴通讯）
- 创业板股票
- 新上市股票

**稳健的蓝筹** → 双均线
- 银行股
- 白酒股
- 大盘指数

### 根据投资风格

**激进型**：
```
策略：RSI（快进快出）
周期：9天
仓位：0.7-1.0
```

**稳健型**：
```
策略：双均线（长期持有）
周期：20/60天
仓位：0.5-0.7
```

---

## 🔬 测试建议

### 对比测试流程

1. **同一只股票，不同策略**
```
测试1：双均线 10/30  → 记录收益
测试2：双均线 20/60  → 记录收益
测试3：RSI 14/30/70  → 记录收益

对比：哪个收益最高？
```

2. **同一策略，不同股票**
```
股票A：平安银行（震荡）
股票B：贵州茅台（趋势）
股票C：宁德时代（成长）

对比：策略在哪类股票表现最好？
```

3. **同一策略，不同时期**
```
时期1：2020-2021（牛市）
时期2：2022（熊市）
时期3：2023-2024（震荡）

对比：策略在不同市场环境的适应性
```

---

## 🎯 常见策略组合

### 组合1：双策略轮动
```
趋势明显时 → 用双均线
震荡整理时 → 用RSI
```

### 组合2：参数优化
```
先用多组参数回测
选出最佳参数
再用于实盘
```

### 组合3：风险控制
```
策略信号 + 止损止盈
例如：金叉买入，但跌破5%强制止损
```

---

## 📖 实际案例

### 案例1：双均线在趋势股

**股票**：贵州茅台（600519.SH）
**时期**：2020-2021（牛市）
**参数**：20/60天
**预期表现**：好
**原因**：趋势明显，均线能抓住大行情

### 案例2：RSI在震荡股

**股票**：平安银行（000001.SZ）
**时期**：2023-2024（震荡）
**参数**：14/30/70
**预期表现**：相对较好
**原因**：震荡市，RSI能捕捉波段

### 案例3：参数不当的例子

**配置**：短期5日，长期20日
**市场**：震荡市
**结果**：频繁交易，手续费吃掉收益
**教训**：参数要根据市场调整

---

## 🚀 快速上手建议

### 新手推荐

**第一次使用**：
```
策略：双均线
参数：10/30（默认）
股票：000001.SZ（平安银行）
数据源：akshare
时间：2023-2024（1年多）

目的：熟悉系统，理解策略
```

**第二次测试**：
```
策略：RSI
参数：14/30/70
同一只股票

对比：哪个策略更好？
```

### 进阶使用

1. **参数优化**
   - 测试多组参数
   - 找出最佳组合
   
2. **多股票验证**
   - 在10只股票上测试
   - 验证策略稳定性
   
3. **不同时期测试**
   - 牛市/熊市/震荡市
   - 验证策略适应性

---

## ⚠️ 重要提醒

### 回测局限性

1. **历史不代表未来**
   - 过去表现好≠将来也好
   - 市场会变化

2. **过拟合风险**
   - 不要过度优化参数
   - 避免针对历史数据"作弊"

3. **实盘差异**
   - 回测没有滑点、停牌等
   - 实盘成本可能更高

### 使用建议

1. **样本外测试**
   ```
   优化参数用：2020-2022数据
   验证效果用：2023-2024数据
   ```

2. **多策略组合**
   - 不要只用一种策略
   - 分散风险

3. **持续改进**
   - 定期回顾
   - 根据市场调整

---

**记住：没有完美的策略，只有适合的策略！**

根据您的**风险偏好**、**市场环境**、**股票特性**选择合适的策略。

*最后更新：2025-10-30*
